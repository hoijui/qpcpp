<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>QP/C++: QTimeEvt Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">QP/C++
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_q_time_evt-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">QTimeEvt Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Time Event class.  
 <a href="class_q_time_evt.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="qf_8h_source.html">qf.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for QTimeEvt:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_q_time_evt.png" usemap="#QTimeEvt_map" alt=""/>
  <map id="QTimeEvt_map" name="QTimeEvt_map">
<area href="struct_q_event.html" title="QEvent base class. " alt="QEvent" shape="rect" coords="0,0,66,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa7e0360be0d4811d6b92a0611c067bf2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_time_evt.html#aa7e0360be0d4811d6b92a0611c067bf2">QTimeEvt</a> (<a class="el" href="qevent_8h.html#af55248e13cdc5784f0824c7615c41b7d">QSignal</a> s)</td></tr>
<tr class="memdesc:aa7e0360be0d4811d6b92a0611c067bf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Time Event constructor.  <a href="#aa7e0360be0d4811d6b92a0611c067bf2">More...</a><br/></td></tr>
<tr class="separator:aa7e0360be0d4811d6b92a0611c067bf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f62a3c24d569efd2199f5aa24bdb90a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_time_evt.html#a9f62a3c24d569efd2199f5aa24bdb90a">postIn</a> (<a class="el" href="class_q_active.html">QActive</a> *act, QTimeEvtCtr nTicks)</td></tr>
<tr class="memdesc:a9f62a3c24d569efd2199f5aa24bdb90a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arm a one-shot time event for direct event posting.  <a href="#a9f62a3c24d569efd2199f5aa24bdb90a">More...</a><br/></td></tr>
<tr class="separator:a9f62a3c24d569efd2199f5aa24bdb90a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab07a0ee4cc4c3dfda2c7bb4a66e0731b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_time_evt.html#ab07a0ee4cc4c3dfda2c7bb4a66e0731b">postEvery</a> (<a class="el" href="class_q_active.html">QActive</a> *act, QTimeEvtCtr nTicks)</td></tr>
<tr class="memdesc:ab07a0ee4cc4c3dfda2c7bb4a66e0731b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arm a periodic time event for direct event posting.  <a href="#ab07a0ee4cc4c3dfda2c7bb4a66e0731b">More...</a><br/></td></tr>
<tr class="separator:ab07a0ee4cc4c3dfda2c7bb4a66e0731b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a233ebc920e7573025c891ccec6327682"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qep__port_8h.html#a1add8b7f40b8c78daa5d7a2eb886c924">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_time_evt.html#a233ebc920e7573025c891ccec6327682">disarm</a> (void)</td></tr>
<tr class="memdesc:a233ebc920e7573025c891ccec6327682"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disarm a time event.  <a href="#a233ebc920e7573025c891ccec6327682">More...</a><br/></td></tr>
<tr class="separator:a233ebc920e7573025c891ccec6327682"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05eb04876e7f620b2a2bcc130b8af19a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qep__port_8h.html#a1add8b7f40b8c78daa5d7a2eb886c924">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_time_evt.html#a05eb04876e7f620b2a2bcc130b8af19a">rearm</a> (QTimeEvtCtr nTicks)</td></tr>
<tr class="memdesc:a05eb04876e7f620b2a2bcc130b8af19a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rearm a time event.  <a href="#a05eb04876e7f620b2a2bcc130b8af19a">More...</a><br/></td></tr>
<tr class="separator:a05eb04876e7f620b2a2bcc130b8af19a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a127d5e18e2adfababe874a2e3fc6f692"><td class="memItemLeft" align="right" valign="top">QTimeEvtCtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_time_evt.html#a127d5e18e2adfababe874a2e3fc6f692">ctr</a> (void)</td></tr>
<tr class="memdesc:a127d5e18e2adfababe874a2e3fc6f692"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current value of the down-counter of a time event.  <a href="#a127d5e18e2adfababe874a2e3fc6f692">More...</a><br/></td></tr>
<tr class="separator:a127d5e18e2adfababe874a2e3fc6f692"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a9bff20005d080fc888fcbc59b4fd16ab"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9bff20005d080fc888fcbc59b4fd16ab"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>QF</b></td></tr>
<tr class="separator:a9bff20005d080fc888fcbc59b4fd16ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_struct_q_event"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_struct_q_event')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="struct_q_event.html">QEvent</a></td></tr>
<tr class="memitem:af3f51670fdc402116309573cee25447d inherit pub_attribs_struct_q_event"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af3f51670fdc402116309573cee25447d"></a>
<a class="el" href="qevent_8h.html#af55248e13cdc5784f0824c7615c41b7d">QSignal</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_event.html#af3f51670fdc402116309573cee25447d">sig</a></td></tr>
<tr class="memdesc:af3f51670fdc402116309573cee25447d inherit pub_attribs_struct_q_event"><td class="mdescLeft">&#160;</td><td class="mdescRight">signal of the event instance <br/></td></tr>
<tr class="separator:af3f51670fdc402116309573cee25447d inherit pub_attribs_struct_q_event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4f465b89d5c7e80591ddda083a8f742 inherit pub_attribs_struct_q_event"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae4f465b89d5c7e80591ddda083a8f742"></a>
<a class="el" href="qep__port_8h.html#a1add8b7f40b8c78daa5d7a2eb886c924">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_event.html#ae4f465b89d5c7e80591ddda083a8f742">poolId_</a></td></tr>
<tr class="memdesc:ae4f465b89d5c7e80591ddda083a8f742 inherit pub_attribs_struct_q_event"><td class="mdescLeft">&#160;</td><td class="mdescRight">pool ID (0 for static event) <br/></td></tr>
<tr class="separator:ae4f465b89d5c7e80591ddda083a8f742 inherit pub_attribs_struct_q_event"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba9b2b666f7007228e55a0a9d0dcdef5 inherit pub_attribs_struct_q_event"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba9b2b666f7007228e55a0a9d0dcdef5"></a>
<a class="el" href="qep__port_8h.html#a1add8b7f40b8c78daa5d7a2eb886c924">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_event.html#aba9b2b666f7007228e55a0a9d0dcdef5">refCtr_</a></td></tr>
<tr class="memdesc:aba9b2b666f7007228e55a0a9d0dcdef5 inherit pub_attribs_struct_q_event"><td class="mdescLeft">&#160;</td><td class="mdescRight">reference counter <br/></td></tr>
<tr class="separator:aba9b2b666f7007228e55a0a9d0dcdef5 inherit pub_attribs_struct_q_event"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Time Event class. </p>
<p>Time events are special <a class="el" href="class_q_f.html" title="QF services. ">QF</a> events equipped with the notion of time passage. The basic usage model of the time events is as follows. An active object allocates one or more <a class="el" href="class_q_time_evt.html" title="Time Event class. ">QTimeEvt</a> objects (provides the storage for them). When the active object needs to arrange for a timeout, it arms one of its time events to fire either just once (one-shot) or periodically. Each time event times out independently from the others, so a <a class="el" href="class_q_f.html" title="QF services. ">QF</a> application can make multiple parallel timeout requests (from the same or different active objects). When <a class="el" href="class_q_f.html" title="QF services. ">QF</a> detects that the appropriate moment has arrived, it inserts the time event directly into the recipient's event queue. The recipient then processes the time event just like any other event.</p>
<p>Time events, as any other <a class="el" href="class_q_f.html" title="QF services. ">QF</a> events derive from the <a class="el" href="struct_q_event.html" title="QEvent base class. ">QEvent</a> base class. Typically, you will use a time event as-is, but you can also further derive more specialized time events from it by adding some more data members and/or specialized functions that operate on the specialized time events.</p>
<p>Internally, the armed time events are organized into a bi-directional linked list. This linked list is scanned in every invocation of the <a class="el" href="class_q_f.html#aee589dbe41a722dd412826c6a8b69c2e" title="Processes all armed time events at every clock tick. ">QF::tick()</a> function. Only armed (timing out) time events are in the list, so only armed time events consume CPU cycles.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="class_q_f.html" title="QF services. ">QF</a> manages the time events in the function <a class="el" href="class_q_f.html#aee589dbe41a722dd412826c6a8b69c2e" title="Processes all armed time events at every clock tick. ">QF::tick()</a>, which must be called periodically, preferably from the clock tick ISR. </dd>
<dd>
In this version of <a class="el" href="class_q_f.html" title="QF services. ">QF</a> <a class="el" href="class_q_time_evt.html" title="Time Event class. ">QTimeEvt</a> objects should be allocated statically rather than dynamically from event pools. Currently, <a class="el" href="class_q_f.html" title="QF services. ">QF</a> will not correctly recycle the dynamically allocated Time Events. </dd></dl>

<p>Definition at line <a class="el" href="qf_8h_source.html#l00451">451</a> of file <a class="el" href="qf_8h_source.html">qf.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa7e0360be0d4811d6b92a0611c067bf2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QTimeEvt::QTimeEvt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qevent_8h.html#af55248e13cdc5784f0824c7615c41b7d">QSignal</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The Time Event constructor. </p>
<p>The most important initialization performed in the constructor is assigning a signal to the Time Event. You can reuse the Time Event any number of times, but you cannot change the signal. This is because pointers to Time Events might still be held in event queues and changing signal could to hard-to-detect errors.</p>
<p>The following example shows the use of <a class="el" href="class_q_time_evt.html#aa7e0360be0d4811d6b92a0611c067bf2" title="The Time Event constructor. ">QTimeEvt::QTimeEvt()</a> constructor in the constructor initializer list of the Philosopher active object constructor that owns the time event </p>
<div class="fragment"><div class="line"><span class="keyword">class </span>Philosopher : <span class="keyword">public</span> QActive {</div>
<div class="line">    . . .</div>
<div class="line">public:</div>
<div class="line">    Philosopher::Philosopher()                   <span class="comment">// public default constructor</span></div>
<div class="line">    : QActive((<a class="code" href="qep_8h.html#ac2c368a1ec5e2037c5f4d54f24b3da95">QStateHandler</a>)&amp;Philosopher::initial),</div>
<div class="line">      m_timeEvt(TIMEOUT_SIG)</div>
<div class="line">    {}</div>
<div class="line">    . . .</div>
<div class="line">};</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="qte__ctor_8cpp_source.html#l00042">42</a> of file <a class="el" href="qte__ctor_8cpp_source.html">qte_ctor.cpp</a>.</p>

<p>References <a class="el" href="qf__pkg_8h_source.html#l00094">EVT_POOL_ID</a>, <a class="el" href="qassert_8h_source.html#l00171">Q_REQUIRE</a>, and <a class="el" href="qep_8h_source.html#l00260">Q_USER_SIG</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a127d5e18e2adfababe874a2e3fc6f692"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QTimeEvtCtr QTimeEvt::ctr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current value of the down-counter of a time event. </p>
<p>If the time event is armed, the function returns the current value of the down-counter of the given time event. If the time event is not armed, the function returns 0.</p>
<p>/note The function is thread-safe. </p>

<p>Definition at line <a class="el" href="qte__ctr_8cpp_source.html#l00039">39</a> of file <a class="el" href="qte__ctr_8cpp_source.html">qte_ctr.cpp</a>.</p>

<p>References <a class="el" href="qs_8h_source.html#l00711">QS_BEGIN_NOCRIT_</a>, <a class="el" href="qs_8h_source.html#l00722">QS_END_NOCRIT_</a>, <a class="el" href="qs_8h_source.html#l00750">QS_OBJ_</a>, <a class="el" href="qs_8h_source.html#l00095">QS_QF_TIMEEVT_CTR</a>, <a class="el" href="qs_8h_source.html#l00169">QS_TIME_</a>, and <a class="el" href="qs_8h_source.html#l00444">QS::teObj_</a>.</p>

</div>
</div>
<a class="anchor" id="a233ebc920e7573025c891ccec6327682"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qep__port_8h.html#a1add8b7f40b8c78daa5d7a2eb886c924">uint8_t</a> QTimeEvt::disarm </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disarm a time event. </p>
<p>The time event gets disarmed and can be reused. The function returns 1 (TRUE) if the time event was truly disarmed, that is, it was running. The return of 0 (FALSE) means that the time event was not truly disarmed because it was not running. The FALSE return is only possible for one-shot time events that have been automatically disarmed upon expiration. In this case the FALSE return means that the time event has already been posted or published and should be expected in the active object's state machine. </p>

<p>Definition at line <a class="el" href="qte__darm_8cpp_source.html#l00040">40</a> of file <a class="el" href="qte__darm_8cpp_source.html">qte_darm.cpp</a>.</p>

<p>References <a class="el" href="qs_8h_source.html#l00711">QS_BEGIN_NOCRIT_</a>, <a class="el" href="qs_8h_source.html#l00722">QS_END_NOCRIT_</a>, <a class="el" href="qs_8h_source.html#l00750">QS_OBJ_</a>, <a class="el" href="qs_8h_source.html#l00092">QS_QF_TIMEEVT_DISARM</a>, <a class="el" href="qs_8h_source.html#l00091">QS_QF_TIMEEVT_DISARM_ATTEMPT</a>, <a class="el" href="qs_8h_source.html#l00169">QS_TIME_</a>, and <a class="el" href="qs_8h_source.html#l00444">QS::teObj_</a>.</p>

</div>
</div>
<a class="anchor" id="ab07a0ee4cc4c3dfda2c7bb4a66e0731b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void QTimeEvt::postEvery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_q_active.html">QActive</a> *&#160;</td>
          <td class="paramname"><em>act</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QTimeEvtCtr&#160;</td>
          <td class="paramname"><em>nTicks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Arm a periodic time event for direct event posting. </p>
<p>Arms a time event to fire every <em>nTicks</em> clock ticks (periodic time event). The time event gets directly posted (using the FIFO policy) into the event queue of the active object <em>act</em>.</p>
<p>After posting, the time event gets automatically re-armed to fire again in the specified <em>nTicks</em> clock ticks.</p>
<p>A periodic time event can be disarmed only by calling the <a class="el" href="class_q_time_evt.html#a233ebc920e7573025c891ccec6327682" title="Disarm a time event. ">QTimeEvt::disarm()</a> function. After disarming, the time event can be reused for a one-shot or periodic timeout requests.</p>
<dl class="section note"><dt>Note</dt><dd>An attempt to reuse (arm again) a running periodic time event raises an assertion.</dd></dl>
<p>Also, a periodic time event can be re-armed to shorten or extend the current period by calling the QTimeEvt_rearm() function. After adjusting the current period, the periodic time event goes back timing out at the original rate. </p>

<p>Definition at line <a class="el" href="qf_8h_source.html#l00532">532</a> of file <a class="el" href="qf_8h_source.html">qf.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9f62a3c24d569efd2199f5aa24bdb90a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void QTimeEvt::postIn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_q_active.html">QActive</a> *&#160;</td>
          <td class="paramname"><em>act</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QTimeEvtCtr&#160;</td>
          <td class="paramname"><em>nTicks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Arm a one-shot time event for direct event posting. </p>
<p>Arms a time event to fire in <em>nTicks</em> clock ticks (one-shot time event). The time event gets directly posted (using the FIFO policy) into the event queue of the active object <em>act</em>.</p>
<p>After posting, the time event gets automatically disarmed and can be reused for a one-shot or periodic timeout requests.</p>
<p>A one-shot time event can be disarmed at any time by calling the <a class="el" href="class_q_time_evt.html#a233ebc920e7573025c891ccec6327682" title="Disarm a time event. ">QTimeEvt::disarm()</a> function. Also, a one-shot time event can be re-armed to fire in a different number of clock ticks by calling the <a class="el" href="class_q_time_evt.html#a05eb04876e7f620b2a2bcc130b8af19a" title="Rearm a time event. ">QTimeEvt::rearm()</a> function.</p>
<p>The following example shows how to arm a one-shot time event from a state machine of an active object: </p>
<div class="fragment"><div class="line"><a class="code" href="qep_8h.html#a76c35d858e243d1bd3106738573902d0">QState</a> Philosopher::eating(Philosopher *me, <a class="code" href="struct_q_event.html">QEvent</a> <span class="keyword">const</span> *e) {</div>
<div class="line">    TableEvt *pe;</div>
<div class="line">    <span class="keywordflow">switch</span> (e-&gt;<a class="code" href="struct_q_event.html#af3f51670fdc402116309573cee25447d">sig</a>) {</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="qep_8h.html#ae35e58b2153d1c63307c068315be9074ac286909dd59290d1076b51d4cfdfaefe">Q_ENTRY_SIG</a>: {</div>
<div class="line">            me-&gt;timeEvt_.postIn(me, EAT_TIME);      <span class="comment">// arm one-shot time event</span></div>
<div class="line">            <span class="keywordflow">return</span> <a class="code" href="qep_8h.html#a54b2da5e70ef983cfa7ca74deac237a3">Q_HANDLED</a>();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">case</span> TIMEOUT_SIG: {</div>
<div class="line">            <span class="keywordflow">return</span> <a class="code" href="qep_8h.html#a8f06cd90ba5060780fc61a4810e3eb50">Q_TRAN</a>(&amp;Philosopher::thinking);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="qep_8h.html#ae35e58b2153d1c63307c068315be9074ab54538c21a62926a2f1d63d8fd45bf5c">Q_EXIT_SIG</a>: {</div>
<div class="line">            busyDelay();</div>
<div class="line">            pe = <a class="code" href="qf_8h.html#abd823f3a9e8b3206a3460a108d5fa3e3">Q_NEW</a>(TableEvt, DONE_SIG);</div>
<div class="line">            pe-&gt;philNum = me-&gt;m_num;</div>
<div class="line">            <a class="code" href="class_q_f.html#a65c4972ea4b86162d51fc5ca802fb7bc">QF::publish</a>(pe);</div>
<div class="line">            <span class="keywordflow">return</span> <a class="code" href="qep_8h.html#a54b2da5e70ef983cfa7ca74deac237a3">Q_HANDLED</a>();</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="qep_8h.html#ad8abd2f7098c41ec464343d9d8f1eadc">Q_SUPER</a>(&amp;<a class="code" href="class_q_hsm.html#aee07933d134a725a2556fef24e0e3154">QHsm::top</a>);</div>
<div class="line">}</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="qf_8h_source.html#l00507">507</a> of file <a class="el" href="qf_8h_source.html">qf.h</a>.</p>

</div>
</div>
<a class="anchor" id="a05eb04876e7f620b2a2bcc130b8af19a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qep__port_8h.html#a1add8b7f40b8c78daa5d7a2eb886c924">uint8_t</a> QTimeEvt::rearm </td>
          <td>(</td>
          <td class="paramtype">QTimeEvtCtr&#160;</td>
          <td class="paramname"><em>nTicks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rearm a time event. </p>
<p>The time event gets rearmed with a new number of clock ticks <em>nTicks</em>. This facility can be used to prevent a one-shot time event from expiring (e.g., a watchdog time event), or to adjusts the current period of a periodic time event. Rearming a periodic timer leaves the interval unchanged and is a convenient method to adjust the phasing of the periodic time event.</p>
<p>The function returns 1 (TRUE) if the time event was running as it was re-armed. The return of 0 (FALSE) means that the time event was not truly rearmed because it was not running. The FALSE return is only possible for one-shot time events that have been automatically disarmed upon expiration. In this case the FALSE return means that the time event has already been posted or published and should be expected in the active object's state machine. </p>

<p>Definition at line <a class="el" href="qte__rarm_8cpp_source.html#l00042">42</a> of file <a class="el" href="qte__rarm_8cpp_source.html">qte_rarm.cpp</a>.</p>

<p>References <a class="el" href="qassert_8h_source.html#l00171">Q_REQUIRE</a>, <a class="el" href="qep_8h_source.html#l00260">Q_USER_SIG</a>, <a class="el" href="qs_8h_source.html#l00711">QS_BEGIN_NOCRIT_</a>, <a class="el" href="qs_8h_source.html#l00722">QS_END_NOCRIT_</a>, <a class="el" href="qs_8h_source.html#l00750">QS_OBJ_</a>, <a class="el" href="qs_8h_source.html#l00093">QS_QF_TIMEEVT_REARM</a>, <a class="el" href="qs_8h_source.html#l00169">QS_TIME_</a>, <a class="el" href="qs_8h_source.html#l00727">QS_U8_</a>, and <a class="el" href="qs_8h_source.html#l00444">QS::teObj_</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="qf_8h_source.html">qf.h</a></li>
<li><a class="el" href="qte__arm_8cpp_source.html">qte_arm.cpp</a></li>
<li><a class="el" href="qte__ctor_8cpp_source.html">qte_ctor.cpp</a></li>
<li><a class="el" href="qte__ctr_8cpp_source.html">qte_ctr.cpp</a></li>
<li><a class="el" href="qte__darm_8cpp_source.html">qte_darm.cpp</a></li>
<li><a class="el" href="qte__rarm_8cpp_source.html">qte_rarm.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Nov 28 2016 21:26:18 for QP/C++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
